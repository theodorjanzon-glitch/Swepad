-- Create products table\nCREATE TABLE products (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    price NUMERIC(10, 2) NOT NULL,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create orders table\nCREATE TABLE orders (\n    id SERIAL PRIMARY KEY,\n    user_id INT NOT NULL,\n    total NUMERIC(10, 2) NOT NULL,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create order_items table\nCREATE TABLE order_items (\n    id SERIAL PRIMARY KEY,\n    order_id INT NOT NULL,\n    product_id INT NOT NULL,\n    quantity INT NOT NULL,\n    price NUMERIC(10, 2) NOT NULL\n);\n\n-- Create shopping_carts table\nCREATE TABLE shopping_carts (\n    id SERIAL PRIMARY KEY,\n    user_id INT NOT NULL,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Row Level Security Policies\nALTER TABLE products ENABLE ROW LEVEL SECURITY;\nCREATE POLICY "Allow users to view their own products" ON products FOR SELECT USING (true);\n\nALTER TABLE orders ENABLE ROW LEVEL SECURITY;\nCREATE POLICY "Allow users to view their own orders" ON orders FOR SELECT USING (user_id = current_setting('app.current_user_id')::int);\n\nALTER TABLE order_items ENABLE ROW LEVEL SECURITY;\nCREATE POLICY "Allow users to view their own order items" ON order_items FOR SELECT USING (true);\n\nALTER TABLE shopping_carts ENABLE ROW LEVEL SECURITY;\nCREATE POLICY "Allow users to view their own shopping carts" ON shopping_carts FOR SELECT USING (user_id = current_setting('app.current_user_id')::int);\n